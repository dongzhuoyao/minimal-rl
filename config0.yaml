# Flow Matching training configuration

# Run name for logging and outputs
run_name: null

# Random seed for reproducibility
seed: 42

# Model architecture hyperparameters
model:
  vocab_size: 10   # Digits 0-9 (number of classes)
  time_emb_dim: 40  # Time embedding dimension (matching flow matching MNIST standard: ~1.07M params)
  sigma_max: 80.0  # Maximum sigma (noise level) for flow matching

# Training hyperparameters
training:
  num_steps: 100000  # Total number of training steps
  batch_size: 64
  lr: 1e-3
  max_grad_norm: 1.0
  eval_freq: 500  # Evaluate every N steps
  num_workers: 4  # DataLoader workers
  device: "auto"  # Options: "cpu", "cuda", "auto" (auto-detect)

# Dataset configuration
dataset:
  dataset_dir: "dataset"

# Output paths
paths:
  output_dir: "outputs/flow_matching"

# Wandb configuration
wandb:
  enabled: true
  project: "minimal-rl"
  run_name: null  # Uses run_name from top level if null
  tags: []  # Optional tags for the run
  log_freq: 500  # Log metrics every N steps (1 = every step)
  log_grad_norm: true  # Whether to log gradient norms (can be expensive)
  num_sample_images: 64  # Number of images to sample for visualization
  num_sampling_steps: 50  # Number of integration steps for sampling
